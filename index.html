<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <script src="js/apk.js" ></script> -->
    
    <!-- Bootstrap CSS -->
    <link rel="shortcut icon" href="icon/sunny.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/bootstrap-grid.css.map">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css.map">
    <link rel="stylesheet" href="css/bootstrap-reboot.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.css.map">
    <link rel="stylesheet" href="css/bootstrap-reboot.min.css.map">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/apk.css">
    <link rel="stylesheet" href="css/bootstrapwatch.min.css">
    <title>Weather Forecasting Application </title>
  </head>
  <body>
  
  <div class="body" style="background-image: url('img/images (1).jfif'); background-repeat: no-repeat;
  background-attachment: fixed; background-size: cover;">

<div class="container-fluid text-center">
  <div class="row">
    <div class="col ms-0">
<img src="img/page 1.jpg" class="sticky-top" style="position: sticky; clear: both; height: auto;" alt="">
    </div>
    <div class="col">
      <form action=""  id="search-form">

        <input type="search" class="btn btn-outline-warning" id="search-input"  placeholder="Enter City"  required autocomplete="off">
          
          <button id="search-button"  class="btn btn-outline-warning" >Search</button>
          
      </form>
  
      <main id="app-container" class="container-sm">
        <div id="location">
          <p>Enter your location to get current weather details</p>
        </div>
          <div id="temp" style="color: black;">
              <img src="icon/sunny.png" alt="" id="temp-icon">
              <p><span id="temp-value">Temparature 20</span>  
                <span id="temp-unit">&#176c </span></p>

                <!-- latitude -->
                <!-- <p><span id="temp-value">latitude 7.800</span>  
                  <span id="temp-unit">&#176c </span></p>

                  <p><span id="temp-value">longtitude 6.733</span>  
                    <span id="temp-unit">&#176c </span></p> -->
  
               
          </div>
          
          <div id="climate">
            <p id="climate"></p>
          </div>
  
      </main>
    </div>
    <div class="col">
      <img src="img/download (1).jfif" style=" display: flex;  margin-left: 100%px" alt="">
      <img src="img/page 2.JPG" alt="">
    </div>
  </div>
</div>
<style>
  #temp{
    color: black;
background-color:white;  }
</style>

        

  
   
    <!-- <script src="weather.js"></script> -->
    <script>

    let tempicon = document.getElementById("temp-icon").src;
    console.log(tempicon)
    let tempvalue = document.getElementById("temp").innerText;
    let locationName = document.getElementById("location").innerText;
    console.log(locationName)
    
  
    let climate  = document.getElementById("climate").innerText;
    climate= "this is to test run";
      const searchButton = document.getElementById("search-button");
      let input = "lokoja"
      
      

      searchButton.addEventListener('click', (e)=>{
        let loc=  document.getElementById("search-input").value;
      console.log("current value for my input tag",loc)
    e.preventDefault();
    

    let params = new URLSearchParams({
          access_key:'2c2af8a1364fbef026648f89f73497a0',
          query:loc,
          units: 'f'
        });
 return fetch(`http://api.weatherstack.com/current?${params}`
    // {
    //   method: 'GET',  
    //    withCredentials: true,  
    //    crossorigin: true,  
    //    mode: 'no-cors',   
       
    //  }
    )  
     .then((res) => res.json())
     .then(data=>{
      console.log(data); 
      console.log(data[location]) 
      console.log(data.location.name) 
       document.querySelector("#temp").innerHTML = `
       <p>You just searched for ${loc} weather information</p>
      <p>The Climate looks like <img src=${data.current.weather_icons[0]}></p>
      <h2>Temperature =${data.current.temperature} <span id="temp-unit">&#176c </span></p></h2>
      <h2>Humidity =${data.current.humidity} <span id="temp-unit">(g/m3) </span></p></h2>
      <h2>Pressure =${data.current.pressure} <span id="temp-unit">cmHg </span></p></h2>
      <h2>Visibility =${data.current.visibility} <span id="temp-unit"></span></p></h2>
      <h2>Weather Code =${data.current.weather_code} <span id="temp-unit"> </span></p></h2>
      <h2>Wind Degree =${data.current.wind_degree} <span id="temp-unit">&#176;  </span></p></h2>
      <h2>Wind Speed =${data.current.wind_speed} <span id="temp-unit"> </span></p></h2>
    <p>In Summary the weather descriptions as at ${data.current.observation_time} can be ${data.current.weather_descriptions[0]}</p> 

        
      `
           }) 
           .catch(error =>{
        console.log(error);
      })
          })
   
        
    </script>




    <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
    -->
  </div>
  </body>
</html>